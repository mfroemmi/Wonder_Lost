[gd_scene load_steps=31 format=3 uid="uid://btcwjruvsyi8v"]

[ext_resource type="Script" uid="uid://dklyrybej5unf" path="res://21_scenes/main/main.gd" id="1_fafct"]
[ext_resource type="PackedScene" uid="uid://7vpbb7j0wes1" path="res://31_entities/world/environment/custom_world_environment.tscn" id="1_jbpyi"]
[ext_resource type="PackedScene" uid="uid://mm4fib8gds8v" path="res://31_entities/terrain/rocks/rocks.tscn" id="1_jrx1x"]
[ext_resource type="PackedScene" uid="uid://7ecyw24x8ek3" path="res://31_entities/objects/chest/chest.tscn" id="1_s6nbt"]
[ext_resource type="PackedScene" uid="uid://m34ge5n2y6kq" path="res://31_entities/characters/stone_buddy/stone_buddy.tscn" id="2_8xbvx"]
[ext_resource type="PackedScene" uid="uid://bfc6muihiuy8u" path="res://31_entities/objects/shell/shell.tscn" id="3_0bgje"]
[ext_resource type="PackedScene" uid="uid://wxgnjpdlw28p" path="res://31_entities/world/ground/ground.tscn" id="3_cisgx"]
[ext_resource type="PackedScene" uid="uid://r2og1xnaw5if" path="res://31_entities/world/grid_maps/stairs/stairs_grid_map.tscn" id="4_txufx"]
[ext_resource type="PackedScene" uid="uid://bxptxteivbgjd" path="res://11_utilities/game/manager/item_spawn/item_spawn_manager.tscn" id="5_cbge5"]
[ext_resource type="PackedScene" uid="uid://uqfry7sfeu2n" path="res://31_entities/objects/grass/grass_normal.tscn" id="6_kcmh8"]
[ext_resource type="PackedScene" uid="uid://qrv36u87xk77" path="res://31_entities/objects/grass/model/grass_short.glb" id="7_lh7vv"]
[ext_resource type="PackedScene" uid="uid://cr0nhrtt6cc2v" path="res://31_entities/world/grid_maps/ground/grass_block_grid_map.tscn" id="8_7jppm"]
[ext_resource type="PackedScene" uid="uid://0rd3dtxpev4o" path="res://31_entities/world/grid_maps/placeable_objects/placeable_object_grid_map.tscn" id="8_38bgp"]
[ext_resource type="PackedScene" uid="uid://tk2eflh7qtvg" path="res://31_entities/objects/grass/grass_short_plane.tscn" id="8_lqtem"]
[ext_resource type="PackedScene" uid="uid://dh5aln7gpogpm" path="res://31_entities/world/fog/fog.tscn" id="8_v34c6"]
[ext_resource type="PackedScene" uid="uid://b0r5vk50kpx5o" path="res://31_entities/objects/wood_stick/wood_stick.tscn" id="9_0vct4"]
[ext_resource type="PackedScene" uid="uid://dv3h2niliheuc" path="res://31_entities/objects/grass/grass_collectable.tscn" id="9_5tdkx"]
[ext_resource type="PackedScene" uid="uid://bem11oe4rs25y" path="res://31_entities/world/tiles/tile_grass_block.tscn" id="9_38bgp"]
[ext_resource type="Script" uid="uid://s3n8lo1kqoi3" path="res://12_common/inventory/inventory_data.gd" id="11_c5465"]
[ext_resource type="PackedScene" uid="uid://cdjeixcaqy0gf" path="res://11_utilities/game/manager/object_placement/object_placement_manager.tscn" id="11_p0lnu"]
[ext_resource type="PackedScene" uid="uid://b7vf6qkul3k7h" path="res://12_common/inventory/inventory.tscn" id="15_2wl7j"]
[ext_resource type="Script" uid="uid://011jn2a0evck" path="res://12_common/inventory/slot_data.gd" id="15_6pc71"]
[ext_resource type="Resource" uid="uid://dpv42mt3mtcg3" path="res://test_inventory.tres" id="15_a6wpl"]
[ext_resource type="Script" uid="uid://b82uj67ni3rxo" path="res://12_common/inventory/inventory_interface.gd" id="17_a264a"]
[ext_resource type="PackedScene" uid="uid://dvrbdkn1plvwu" path="res://12_common/inventory/slot.tscn" id="19_m4ofp"]
[ext_resource type="PackedScene" uid="uid://c06wj0486ahfs" path="res://31_entities/objects/banish_stone/banish_stone_area.tscn" id="19_xnwlh"]
[ext_resource type="PackedScene" uid="uid://d4m5olm4gyd37" path="res://41_ui/banish_stone/banish_stone_inventory.tscn" id="24_pusqf"]
[ext_resource type="PackedScene" uid="uid://dhnl3ilmkwb5a" path="res://41_ui/chest/chest_inventory.tscn" id="26_38bgp"]

[sub_resource type="Resource" id="Resource_vxbg6"]
script = ExtResource("11_c5465")
slot_datas = Array[ExtResource("15_6pc71")]([null, null, null, null, null])

[sub_resource type="Resource" id="Resource_2cqps"]
script = ExtResource("11_c5465")
slot_datas = Array[ExtResource("15_6pc71")]([null, null, null, null, null])

[node name="Main" type="Node3D" groups=["main"]]
script = ExtResource("1_fafct")

[node name="World" type="Node3D" parent="."]

[node name="CustomWorldEnvironment" parent="World" instance=ExtResource("1_jbpyi")]

[node name="Lights" type="Node3D" parent="World"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="World/Lights"]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866026, -0.500003, 0.749999, -0.43301, 0, 5.74541, 0)
shadow_enabled = true

[node name="OmniLight3D" type="OmniLight3D" parent="World/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.75449, 3.2077, -2.70588)
light_color = Color(0.545098, 0.32549, 0.631373, 1)
light_energy = 5.0
shadow_enabled = true
shadow_opacity = 0.5
shadow_blur = 5.0
omni_range = 10.0

[node name="OmniLight3D2" type="OmniLight3D" parent="World/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.75996, 3.25648, -7.86405)
light_color = Color(0.588235, 0.741176, 0.792157, 1)
light_energy = 3.0
shadow_enabled = true
shadow_opacity = 0.5
shadow_blur = 5.0
omni_range = 10.0

[node name="OmniLight3D3" type="OmniLight3D" parent="World/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.72733, 3.13286, 4.81682)
light_color = Color(0.588235, 0.741176, 0.792157, 1)
light_energy = 3.0
shadow_enabled = true
shadow_opacity = 0.5
shadow_blur = 5.0
omni_range = 10.0

[node name="OmniLight3D4" type="OmniLight3D" parent="World/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4568, 5.54554, -16.4015)
light_color = Color(0.588235, 0.741176, 0.792157, 1)
light_energy = 3.0
shadow_enabled = true
shadow_opacity = 0.5
shadow_blur = 5.0
omni_range = 10.0

[node name="Ground" parent="World" instance=ExtResource("3_cisgx")]
transform = Transform3D(10, 0, 0, 0, 3, 0, 0, 0, 5, 0, 0, -15.3676)

[node name="Fogs" type="Node3D" parent="World"]
visible = false

[node name="Fog" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.1368, 0, -8.77835)

[node name="Fog2" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.8224, 0, -11.7492)

[node name="Fog3" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.7756, 2, -25.5453)

[node name="Fog4" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.61681, 2, -19.3516)

[node name="Fog5" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32.726, 2, -23.5016)

[node name="Fog6" parent="World/Fogs" instance=ExtResource("8_v34c6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 35.8001, 2.00854, -16.7869)

[node name="GridMaps" type="Node3D" parent="World"]

[node name="Stairs" parent="World/GridMaps" instance=ExtResource("4_txufx")]
data = {
"cells": PackedInt32Array(3, 4, 1441792, 6, 65531, 1441792)
}

[node name="GrassBlock" parent="World/GridMaps" instance=ExtResource("8_7jppm")]
data = {
"cells": PackedInt32Array(2, 3, 0, 3, 3, 0, 3, 2, 0, 4, 3, 0, 4, 2, 0, 5, 3, 0, 5, 2, 0, 65538, 3, 0, 65539, 3, 0, 65539, 2, 0, 5, 4, 0, 65535, 65530, 0, 0, 65530, 0, 1, 65530, 0, 2, 65530, 0, 3, 65530, 0, 4, 65530, 0, 5, 65530, 0, 6, 65530, 0, 7, 65530, 0, 8, 65530, 0, 9, 65530, 0, 10, 65530, 0, 11, 65530, 0, 8, 65531, 0, 9, 65531, 0, 10, 65531, 0, 11, 65531, 0, 12, 65530, 0, 12, 65531, 0, 65535, 65529, 0, 0, 65529, 0, 1, 65529, 0, 2, 65529, 0, 3, 65529, 0, 4, 65529, 0, 5, 65529, 0, 6, 65529, 0, 5, 65528, 0, 4, 65528, 0, 3, 65528, 0, 2, 65528, 0, 1, 65528, 0, 0, 65528, 0, 65535, 65528, 0, 65534, 65528, 0, 65533, 65528, 0, 65532, 65528, 0, 65531, 65528, 0, 65530, 65528, 0, 65531, 65529, 0, 65530, 65529, 0, 65529, 65529, 0, 65528, 65529, 0, 65527, 65529, 0, 65527, 65528, 0, 65528, 65528, 0, 65529, 65528, 0, 3, 65527, 0, 2, 65527, 0, 1, 65527, 0, 0, 65527, 0, 65535, 65527, 0, 65534, 65527, 0, 65534, 65526, 0, 65533, 65526, 0, 65532, 65526, 0, 65531, 65526, 0, 65530, 65526, 0, 65529, 65526, 0, 65529, 65527, 0, 65530, 65527, 0, 65531, 65527, 0, 65532, 65527, 0, 65533, 65527, 0, 7, 65529, 0, 8, 65529, 0, 9, 65529, 0, 10, 65529, 0, 10, 65528, 0, 11, 65528, 0, 11, 65529, 0, 12, 65528, 0, 12, 65529, 0, 13, 65529, 0, 13, 65528, 0, 13, 65527, 0, 13, 65526, 0, 13, 65525, 0, 13, 65524, 0, 12, 65524, 0, 11, 65525, 0, 10, 65525, 0, 10, 65524, 0, 10, 65523, 0, 11, 65523, 0, 11, 65524, 0, 11, 65526, 0, 10, 65526, 0, 10, 65527, 0, 11, 65527, 0, 12, 65526, 0, 12, 65527, 0, 12, 65525, 0, 9, 65528, 0, 9, 65527, 0, 65547, 65528, 0, 65547, 65527, 0, 65547, 65526, 0, 65548, 65526, 0, 65548, 65527, 0, 65548, 65528, 0, 65547, 65529, 0, 131084, 65527, 0, 65539, 65527, 1441793, 65538, 65527, 1441793, 65537, 65527, 1441793, 65536, 65527, 1441793, 65539, 65528, 1441793, 65540, 65528, 1441793, 65541, 65528, 1441793)
}
item_scene = ExtResource("9_38bgp")

[node name="StairsStones" parent="World/GridMaps" instance=ExtResource("4_txufx")]
data = {
"cells": PackedInt32Array(3, 4, 1441793, 6, 65531, 1441793)
}

[node name="PlaceableObject" parent="World/GridMaps" instance=ExtResource("8_38bgp")]

[node name="Manager" type="Node3D" parent="."]

[node name="WoodStickSpawnManager" parent="Manager" instance=ExtResource("5_cbge5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.25341, 0.888896, -5.69934)
item_scene = ExtResource("9_0vct4")
max_items = 15

[node name="ShellSpawnManager" parent="Manager" instance=ExtResource("5_cbge5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.38768, 0, -1.88661)
item_scene = ExtResource("3_0bgje")

[node name="ObjectPlacementManager" parent="Manager" node_paths=PackedStringArray("grid_map") instance=ExtResource("11_p0lnu")]
grid_map = NodePath("../../World/GridMaps/PlaceableObject")

[node name="Entities" type="Node3D" parent="." groups=["entities_layer"]]

[node name="Characters" type="Node3D" parent="Entities"]

[node name="StoneBuddy" parent="Entities/Characters" instance=ExtResource("2_8xbvx")]
inventory_data = ExtResource("15_a6wpl")

[node name="Objects" type="Node3D" parent="Entities"]

[node name="Rocks" parent="Entities/Objects" instance=ExtResource("1_jrx1x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -11.5697)

[node name="Chest" parent="Entities/Objects" instance=ExtResource("1_s6nbt")]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, -4.63194)
collision_mask = 2
inventory_data = SubResource("Resource_vxbg6")

[node name="Chest2" parent="Entities/Objects" instance=ExtResource("1_s6nbt")]
transform = Transform3D(-1.74846e-08, 0, -0.4, 0, 0.4, 0, 0.4, 0, -1.74846e-08, 6.08176, 0, 0.2313)
collision_mask = 2
inventory_data = SubResource("Resource_2cqps")

[node name="GrassNormal" parent="Entities/Objects" instance=ExtResource("6_kcmh8")]
transform = Transform3D(0.35, 0, 0, 0, 0.35, 0, 0, 0, 0.35, -3.31159, 0, 4)

[node name="GrassShort" parent="Entities/Objects" instance=ExtResource("7_lh7vv")]
transform = Transform3D(0.35, 0, 0, 0, 0.35, 0, 0, 0, 0.35, -2.85791, 0, 4.42808)

[node name="GrassShortPlane" parent="Entities/Objects" instance=ExtResource("8_lqtem")]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, -2.13643, 0, 3.43925)

[node name="GrassCollectable" parent="Entities/Objects" instance=ExtResource("9_5tdkx")]
transform = Transform3D(0.35, 0, 0, 0, 0.35, 0, 0, 0, 0.35, -1.51341, 0, 4.04199)

[node name="GrassCollectable2" parent="Entities/Objects" instance=ExtResource("9_5tdkx")]
transform = Transform3D(0.35, 0, 0, 0, 0.35, 0, 0, 0, 0.35, -2.81351, 0, 3.64591)

[node name="BanishStoneArea" parent="Entities/Objects" instance=ExtResource("19_xnwlh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.0397, 0, -5.96383)
isActivated = true

[node name="UI" type="CanvasLayer" parent="."]

[node name="InventoryInterface" type="Control" parent="UI"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
script = ExtResource("17_a264a")
metadata/_edit_use_anchors_ = true

[node name="PlayerInventory" parent="UI/InventoryInterface" instance=ExtResource("15_2wl7j")]
layout_mode = 0
offset_left = 30.0
offset_top = 30.0
offset_right = 70.0
offset_bottom = 70.0

[node name="ChestInventory" parent="UI/InventoryInterface" instance=ExtResource("26_38bgp")]
visible = false
layout_mode = 0
offset_left = 1000.0
offset_top = 30.0
offset_right = 1040.0
offset_bottom = 70.0

[node name="BanishStoneInventory" parent="UI/InventoryInterface" instance=ExtResource("24_pusqf")]
visible = false
layout_mode = 0
offset_left = 1000.0
offset_top = 30.0
offset_right = 1133.0
offset_bottom = 92.0

[node name="GrabbedSlot" parent="UI/InventoryInterface" instance=ExtResource("19_m4ofp")]
visible = false
modulate = Color(1, 1, 1, 0.54902)
self_modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_right = 128.0
offset_bottom = 128.0

[connection signal="drop_slot_data" from="UI/InventoryInterface" to="." method="_on_inventory_interface_drop_slot_data"]
[connection signal="gui_input" from="UI/InventoryInterface" to="UI/InventoryInterface" method="_on_gui_input"]
